<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="./templates/template_admin.xhtml">
        <ui:define name="scripts">
            <h:outputScript name="js/admin.js"/>
        </ui:define>
        <ui:define name="contenido">
            <div class="align-self-center fs-1 text-center fw-bold">Control de Categorias</div>
            <div class="card">
            <h:form>
            <p:dialog styleClass="dialogSubcate" header="Crear una categoria" widgetVar="dlg2" minHeight="40" width="30%" showEffect="fade" modal="true">
                <div>
                    <span class="w-100 ui-input-icon-left mb-3">
                        <i class="pi pi-paperclip" />
                        <p:inputText required="true" styleClass="w-100 tituloHilo" placeholder="Titulo" value="#{beanAdmin.newCategoriaNombre}" />
                    </span>
                </div>
                <div>
                    <h:commandButton value="Crear" styleClass="w-100 btn btn-success" actionListener="#{beanAdmin.guardarNewCategoria()}"/>
                </div>    
            </p:dialog>
            </h:form>
            <h:form>
                <p:commandButton styleClass="mb-3" value="Crear Categoria" type="button" icon="pi pi-external-link" onclick="PF('dlg2').show()"/>
                <h:dataTable styleClass="tablaPlugin" value="#{beanAdmin.ctrCategorias()}" var="v" binding="#{beanAdmin.tablaCategorias}">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="ID"/>
                        </f:facet>
                        <h:outputText value="#{v.codCategoria}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Nombre"/>
                        </f:facet>
                        <h:outputText value="#{v.titulo}"/>
                    </h:column>
                    <h:column>
                        <h:commandButton styleClass="btn btn-danger botonEliminarRespu me-2" value="Eliminar" actionListener="#{beanAdmin.eliminarCategorias()}"/>
                    </h:column>
                </h:dataTable>
            </h:form>
            </div>
        </ui:define>
    </ui:composition>
</html>

